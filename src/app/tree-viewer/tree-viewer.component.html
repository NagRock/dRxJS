<svg *ngIf="layout$ | async as layout" [attr.width]="width" [attr.height]="height">

  <path
    *ngFor="let d of layout.links"
    stroke="black"
    stroke-width="4"
    [attr.d]="'M' + getX(d.source) + ',' + getY(d.source) + 'C' + getX(d.source) + ',' + (getY(d.source) + getY(d.target)) / 2 + ' ' + getX(d.target) + ',' +  (getY(d.source) + getY(d.target)) / 2 + ' ' + getX(d.target) + ',' + getY(d.target)">
  </path>


  <circle
    *ngFor="let node of layout.nodes"
    r="16"
    fill="darkgrey"
    stroke="black"
    stroke-width="4"
    [attr.transform]="'translate(' + getX(node) + ',' + getY(node) + ')'"
    [appStreamTooltip]="node.data.stream">
  </circle>

</svg>
